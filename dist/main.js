(()=>{"use strict";var t={d:(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};function e(){return JSON.parse(localStorage.getItem("projects")||"[]")}function o(){let t=localStorage.getItem("todoCounter");return t=t?Number(t)+1:0,localStorage.setItem("todoCounter",JSON.stringify(t)),t}function n(){return JSON.parse(localStorage.getItem("todos")||"[]")}function l(t){"projectAdd"==t.target.className&&function(){let t=d(".wrapper"),e=d(".projectDialog");e&&t.removeChild(e);let o=a("dialog","projectDialog"),n=a("button","closeProject");n.textContent="x";let l=a("form","project"),s=a("div"),p=a("label");p.textContent="Name";let f=a("input");f.setAttribute("name","name"),c(s,[p,f]);let m=a("div"),g=a("label");g.textContent="Color";let b=a("input");b.setAttribute("name","color"),b.setAttribute("type","color"),c(m,[g,b]);let h=a("button","projectBtn");h.setAttribute("type","button"),h.textContent="Submit",u(h,i),c(l,[s,m,h]),c(o,[n,l]),c(t,o),o.showModal(),u(n,r)}()}function r(){d(".projectDialog").close()}function i(){let t=d(".project");A(t.name.value,t.color.value),r()}function a(t,e=null){let o=document.createElement(t);return e&&(o.className=e),o}function c(t,e){Array.isArray(e)?Array.from(e).forEach((e=>{t.appendChild(e)})):t.appendChild(e)}function d(t,e=!1){return e?document.querySelectorAll(t):document.querySelector(t)}function u(t,e){Number(t.length)>0?Array.from(t).forEach((t=>{t.addEventListener("click",e)})):t.addEventListener("click",e)}function s(t){let e=d(".content");e.textContent="",t.forEach((t=>{let o=a("div");a("span").textContent=t.id;let n=a("span","color");n.style.background=t.color,n.style.color=t.color;let l=a("span");l.textContent=t.name;let r=a("button","view");r.textContent="View",r.dataset.id=t.id;let i=a("button","delete");i.textContent="Delete",i.dataset.id=t.id;let d=a("button","createTodo");d.textContent="Add Todo",d.dataset.id=t.id,c(o,[n,l,r,i,d]),c(e,o),u(i,p),u(r,f),u(d,m)}))}function p(t){I(t.target.dataset.id)}function f(t){let e=t.target.dataset.id,o=[...n()];o=o.filter((t=>t.projectId==e)),h(o),v(t.target)}function m(t){let e=d(".wrapper"),o=d(".todoDialog");o&&e.removeChild(o);let n=a("dialog","todoDialog"),l=a("button","todoDialogClose");l.textContent="x";let r=t.target.dataset.id;v(t.target);let i=a("form","todo"),s=a("div"),p=a("label");p.textContent="Name";let f=a("input");f.setAttribute("name","title"),c(s,[p,f]);let m=a("div"),h=a("label");h.textContent="Color";let C=a("input");C.setAttribute("name","color"),C.setAttribute("type","color"),c(m,[h,C]);let x=a("div"),y=a("label");y.textContent="Due Date";let j=a("input");j.setAttribute("name","dueDate"),c(x,[y,j]);let A=a("div"),I=a("label");I.textContent="Description";let S=a("input");S.setAttribute("name","description"),c(A,[I,S]);let D=a("div"),N=a("label");N.textContent="Priority";let w=a("input");w.setAttribute("name","priority"),c(D,[N,w]);let E=a("div"),O=a("label");O.textContent="Notes";let k=a("input");k.setAttribute("name","notes"),c(E,[O,k]);let L=a("div"),P=a("label");P.textContent="Check List";let J=a("input");J.setAttribute("name","checklist"),c(L,[P,J]);let T=a("input");T.value=r,T.setAttribute("name","projectId"),T.setAttribute("hidden",!0);let $=a("button","todoBtn");$.setAttribute("type","button"),$.textContent="Submit",c(i,[s,m,x,A,D,E,L,T,$]),c(n,[l,i]),c(e,n),n.showModal(),u($,b),u(l,g)}function g(){d(".todoDialog").close()}function b(){let t=d(".todo");D(t.projectId.value,{title:t.title.value,color:t.color.value,dueDate:t.dueDate.value,description:t.description.value,priority:t.priority.value,notes:t.notes.value,checklist:t.checklist.value,projectId:t.projectId.value,id:o()}),g()}function h(t){let e=d(".todoItems");e.textContent="",t.forEach((t=>{let o=a("div"),n=a("span");n.textContent=t.projectId;let l=a("span","color");l.style.background=t.color,l.style.color=t.color;let r=a("span");r.textContent=t.title;let i=a("button","deletetodo");i.textContent="Delete",i.dataset.id=t.id,c(o,[n,l,r,i]),c(e,o),u(i,C)}))}function C(t){w(t.target.dataset.id)}function v(t){let e=t.parentElement.parentElement.childNodes;Array.from(e).forEach((t=>{t.classList.remove("highlight")})),t.parentElement.classList.add("highlight")}t.d({},{ZA:()=>A,Ty:()=>D,Qo:()=>I,$d:()=>w}),function(){let t=a("div","wrapper"),e=function(){let t=a("nav"),e=a("ul"),o=a("li");o.textContent="Home";let n=a("li");n.textContent="About";let r=a("li","projectAdd");return r.textContent="Add Project",c(e,[o,n,r]),c(t,e),u([o,n,r],l),t}(),o=function(){let t=a("aside"),e=a("div","heading"),o=a("div","content"),n=a("h2");return n.textContent="Projects",c(e,n),c(t,e),c(t,o),t}(),n=function(){let t=a("main"),e=a("div","heading"),o=a("h2"),n=a("div","createTodo"),l=a("div","todoItems");return o.textContent="Todos",c(e,[o,n,l]),c(t,e),t}();c(t,[e,o,n,function(){let t=a("footer");return t.textContent="This is footer copyright",t}()]),c(d(".app-root"),t)}();let x=e(),y=n();if(x.length>0){s(x);let t=x.sort(((t,e)=>t.id>e.id?1:-1))[0],e=[...y];e=e.filter((e=>e.projectId==t.id)),h(e)}class j{constructor(t,e){this.id=function(){let t=localStorage.getItem("projectCounter");return t=t?Number(t)+1:0,localStorage.setItem("projectCounter",JSON.stringify(t)),t}(),this.name=t,this.color=e}}function A(t,e){if(function(t){return x.some((e=>e.name==t))}(t))return o=`Project with ${t} already exist`,void console.log(o);var o;let n=new j(t,e);x.push(n),S()}function I(t){let e=[...x],o=[...y],n=e.find((e=>e.id==t));o=o.filter((e=>e.projectId==t)),confirm(`Are you sure you want to delete ${n.name} ?. It has ${o.length} children`)&&(y=y.filter((e=>e.projectId!=t)),x=x.filter((e=>e.id!=t)),N(),S())}function S(){!function(t){0!=t.Length&&(localStorage.setItem("projects",JSON.stringify(t)),s(t))}(x),x=e()}function D(t,e){y.push(e),N(t)}function N(t){!function(t){0!=t.Length&&localStorage.setItem("todos",JSON.stringify(t))}(y);let e=[...n()];e=e.filter((e=>e.projectId==t)),h(e)}function w(t){let e=[...y].find((e=>e.id==t));y=y.filter((e=>e.id!=t)),N(e.projectId)}})();
//# sourceMappingURL=main.js.map