(()=>{"use strict";var t={d:(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};function e(){return JSON.parse(localStorage.getItem("projects")||"[]")}function o(){return JSON.parse(localStorage.getItem("todos")||"[]")}function n(t){"projectAdd"==t.target.className?function(){let t=c(".wrapper"),e=c(".projectDialog");e&&t.removeChild(e);let o=l("dialog","projectDialog"),n=l("button","closeProject");n.textContent="x";let u=l("form","project"),s=l("div"),p=l("label");p.textContent="Name";let f=l("input");f.setAttribute("name","name"),a(s,[p,f]);let m=l("div"),g=l("label");g.textContent="Color";let h=l("input");h.setAttribute("name","color"),h.setAttribute("type","color"),a(m,[g,h]);let b=l("button","projectBtn");b.setAttribute("type","button"),b.textContent="Submit",d(b,r),a(u,[s,m,b]),a(o,[n,u]),a(t,o),o.showModal(),d(n,i)}():t.target.textContent}function i(){c(".projectDialog").close()}function r(){let t=c(".project");j(t.name.value,t.color.value),i()}function l(t,e=null){let o=document.createElement(t);return e&&(o.className=e),o}function a(t,e){Array.isArray(e)?Array.from(e).forEach((e=>{t.appendChild(e)})):t.appendChild(e)}function c(t,e=!1){return e?document.querySelectorAll(t):document.querySelector(t)}function d(t,e){Number(t.length)>0?Array.from(t).forEach((t=>{t.addEventListener("click",e)})):t.addEventListener("click",e)}function u(t){let e=c(".content");e.textContent="",t.forEach((t=>{let o=l("div");l("span").textContent=t.id;let n=l("span","color");n.style.background=t.color,n.style.color=t.color;let i=l("span");i.textContent=t.name;let r=l("button","view");r.textContent="View",r.dataset.id=t.id;let c=l("button","delete");c.textContent="Delete",c.dataset.id=t.id;let u=l("button","createTodo");u.textContent="Add Todo",u.dataset.id=t.id,a(o,[n,i,r,c,u]),a(e,o),d(c,s),d(r,p),d(u,f)}))}function s(t){S(t.target.dataset.id)}function p(t){let e=t.target.dataset.id,n=[...o()];n=n.filter((t=>t.projectId==e)),h(n),v(t.target)}function f(t){let e=c(".wrapper"),o=c(".todoDialog");o&&e.removeChild(o);let n=l("dialog","todoDialog"),i=l("button","todoDialogClose");i.textContent="x";let r=t.target.dataset.id;v(t.target);let u=l("form","todo"),s=l("div"),p=l("label");p.textContent="Name";let f=l("input");f.setAttribute("name","title"),a(s,[p,f]);let h=l("div"),b=l("label");b.textContent="Color";let C=l("input");C.setAttribute("name","color"),C.setAttribute("type","color"),a(h,[b,C]);let x=l("div"),y=l("label");y.textContent="Due Date";let A=l("input");A.setAttribute("name","dueDate"),A.setAttribute("type","datetime-local");let j=new Date;var S=new Date;S.setMinutes(S.getMinutes()-S.getTimezoneOffset()),new Date(Date.now()+3e5).toISOString(),A.setAttribute("value",S),A.setAttribute("min",j.toISOString()),a(x,[y,A]);let I=l("div"),D=l("label");D.textContent="Description";let w=l("input");w.setAttribute("name","description"),a(I,[D,w]);let N=l("div"),O=l("label");O.textContent="Priority";let E=l("input");E.setAttribute("name","priority"),a(N,[O,E]);let k=l("div"),L=l("label");L.textContent="Notes";let P=l("input");P.setAttribute("name","notes"),a(k,[L,P]);let T=l("div"),J=l("label");J.textContent="Check List";let M=l("input");M.setAttribute("name","checklist"),a(T,[J,M]);let $=l("input");$.value=r,$.setAttribute("name","projectId"),$.setAttribute("hidden",!0);let q=l("button","todoBtn");q.setAttribute("type","button"),q.textContent="Submit",a(u,[s,h,x,I,N,k,T,$,q]),a(n,[i,u]),a(e,n),n.showModal(),d(q,g),d(i,m)}function m(){c(".todoDialog").close()}function g(){let t=c(".todo"),e=(new Date,new A(t.title.value,t.color.value,t.description.value,t.priority.value,t.notes.value,t.checklist.value,t.projectId.value,t.dueDate.value));D(t.projectId.value,e),m()}function h(t){let e=c(".todoItems");e.textContent="",t.forEach((t=>{let o=l("div"),n=l("span");n.textContent=t.projectId;let i=l("span","color");i.style.background=t.color,i.style.color=t.color;let r=l("span");r.textContent=t.title;let c=l("button","deletetodo");c.textContent="Delete",c.dataset.id=t.id,a(o,[n,i,r,c]),a(e,o),d(c,b)}))}function b(t){N(t.target.dataset.id)}function v(t){let e=t.parentElement.parentElement.childNodes;Array.from(e).forEach((t=>{t.classList.remove("highlight")})),t.parentElement.classList.add("highlight")}t.d({},{ZA:()=>j,Ty:()=>D,Qo:()=>S,$d:()=>N,zk:()=>A}),function(){let t=l("div","wrapper"),e=function(){let t=l("nav"),e=l("ul"),o=l("li");o.textContent="Home";let i=l("li");i.textContent="About";let r=l("li","projectAdd");return r.textContent="Add Project",a(e,[o,i,r]),a(t,e),d([o,i,r],n),t}(),o=function(){let t=l("aside"),e=l("div","heading"),o=l("div","content"),n=l("h2");return n.textContent="Projects",a(e,n),a(t,e),a(t,o),t}(),i=function(){let t=l("main"),e=l("div","heading"),o=l("h2"),n=l("div","createTodo"),i=l("div","todoItems");return o.textContent="Todos",a(e,[o,n,i]),a(t,e),t}();a(t,[e,o,i,function(){let t=l("footer");return t.textContent="This is footer copyright",t}()]),a(c(".app-root"),t)}();let C=e(),x=o();if(C.length>0){u(C);let t=C.sort(((t,e)=>t.id>e.id?1:-1))[0],e=[...x];e=e.filter((e=>e.projectId==t.id)),h(e)}class y{constructor(t,e){let o=new Date;this.id=function(){let t=localStorage.getItem("projectCounter");return t=t?Number(t)+1:0,localStorage.setItem("projectCounter",JSON.stringify(t)),t}(),this.name=t,this.color=e,this.datetime=o.toISOString()}}class A{constructor(t,e,o,n,i,r,l,a){let c=new Date;this.id=function(){let t=localStorage.getItem("todoCounter");return t=t?Number(t)+1:0,localStorage.setItem("todoCounter",JSON.stringify(t)),t}(),this.title=t,this.color=e,this.dueDate=c.toISOString(),this.description=o,this.priority=n,this.notes=i,this.checklist=r,this.projectId=l,this.dueDate=a}}function j(t,e){if(function(t){return C.some((e=>e.name==t))}(t))return o=`Project with ${t} already exist`,void console.log(o);var o;let n=new Date,i=new y(t,e,n.toISOString());C.push(i),I()}function S(t){let e=[...C],o=[...x],n=e.find((e=>e.id==t));o=o.filter((e=>e.projectId==t)),confirm(`Are you sure you want to delete ${n.name} ?. It has ${o.length} children`)&&(x=x.filter((e=>e.projectId!=t)),C=C.filter((e=>e.id!=t)),w(),I())}function I(){!function(t){0!=t.Length&&(localStorage.setItem("projects",JSON.stringify(t)),u(t))}(C),C=e()}function D(t,e){x.push(e),w(t)}function w(t){!function(t){0!=t.Length&&localStorage.setItem("todos",JSON.stringify(t))}(x);let e=[...o()];e=e.filter((e=>e.projectId==t)),h(e)}function N(t){let e=[...x].find((e=>e.id==t));x=x.filter((e=>e.id!=t)),w(e.projectId)}})();
//# sourceMappingURL=main.js.map