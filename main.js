(()=>{"use strict";var t={d:(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};function e(){return JSON.parse(localStorage.getItem("projects")||"[]")}function o(){return JSON.parse(localStorage.getItem("todos")||"[]")}function n(t){"projectAdd"==t.target.className?function(){let t=c(".wrapper"),e=c(".projectDialog");e&&t.removeChild(e);let o=l("dialog","projectDialog"),n=l("button","closeProject");n.textContent="x";let u=l("form","project"),s=l("div"),p=l("label");p.textContent="Name";let f=l("input");f.setAttribute("name","name"),a(s,[p,f]);let m=l("div"),h=l("label");h.textContent="Color";let g=l("input");g.setAttribute("name","color"),g.setAttribute("type","color"),a(m,[h,g]);let b=l("button","projectBtn");b.setAttribute("type","button"),b.textContent="Submit",d(b,r),a(u,[s,m,b]),a(o,[n,u]),a(t,o),o.showModal(),d(n,i)}():t.target.textContent}function i(){c(".projectDialog").close()}function r(){let t=c(".project");A(t.name.value,t.color.value),i()}function l(t,e=null){let o=document.createElement(t);return e&&(o.className=e),o}function a(t,e){Array.isArray(e)?Array.from(e).forEach((e=>{t.appendChild(e)})):t.appendChild(e)}function c(t,e=!1){return e?document.querySelectorAll(t):document.querySelector(t)}function d(t,e){Number(t.length)>0?Array.from(t).forEach((t=>{t.addEventListener("click",e)})):t.addEventListener("click",e)}function u(t){let e=c(".content");e.textContent="",t.forEach((t=>{let o=l("div");l("span").textContent=t.id;let n=l("span","color");n.style.background=t.color,n.style.color=t.color;let i=l("span");i.textContent=t.name;let r=l("button","view");r.textContent="View",r.dataset.id=t.id;let c=l("button","delete");c.textContent="Delete",c.dataset.id=t.id;let u=l("button","createTodo");u.textContent="Add Todo",u.dataset.id=t.id,a(o,[n,i,r,c,u]),a(e,o),d(c,s),d(r,p),d(u,f)}))}function s(t){I(t.target.dataset.id)}function p(t){let e=t.target.dataset.id,n=[...o()];n=n.filter((t=>t.projectId==e)),g(n),C(t.target)}function f(t){let e=c(".wrapper"),o=c(".todoDialog");o&&e.removeChild(o);let n=l("dialog","todoDialog"),i=l("button","todoDialogClose");i.textContent="x";let r=t.target.dataset.id;C(t.target);let u=l("form","todo"),s=l("div"),p=l("label");p.textContent="Name";let f=l("input");f.setAttribute("name","title"),a(s,[p,f]);let g=l("div"),b=l("label");b.textContent="Color";let v=l("input");v.setAttribute("name","color"),v.setAttribute("type","color"),a(g,[b,v]);let x=l("div"),y=l("label");y.textContent="Description";let j=l("input");j.setAttribute("name","description"),a(x,[y,j]);let A=l("div"),I=l("label");I.textContent="Priority";let S=l("input");S.setAttribute("name","priority"),a(A,[I,S]);let w=l("div"),D=l("label");D.textContent="Notes";let N=l("input");N.setAttribute("name","notes"),a(w,[D,N]);let O=l("div"),E=l("label");E.textContent="Check List";let k=l("input");k.setAttribute("name","checklist"),a(O,[E,k]);let L=l("input");L.value=r,L.setAttribute("name","projectId"),L.setAttribute("hidden",!0);let P=l("button","todoBtn");P.setAttribute("type","button"),P.textContent="Submit",a(u,[s,g,x,A,w,O,L,P]),a(n,[i,u]),a(e,n),n.showModal(),d(P,h),d(i,m)}function m(){c(".todoDialog").close()}function h(){let t=c(".todo"),e=(new Date,new j(t.title.value,t.color.value,t.description.value,t.priority.value,t.notes.value,t.checklist.value,t.projectId.value));w(t.projectId.value,e),m()}function g(t){let e=c(".todoItems");e.textContent="",t.forEach((t=>{let o=l("div"),n=l("span");n.textContent=t.projectId;let i=l("span","color");i.style.background=t.color,i.style.color=t.color;let r=l("span");r.textContent=t.title;let c=l("button","deletetodo");c.textContent="Delete",c.dataset.id=t.id,a(o,[n,i,r,c]),a(e,o),d(c,b)}))}function b(t){N(t.target.dataset.id)}function C(t){let e=t.parentElement.parentElement.childNodes;Array.from(e).forEach((t=>{t.classList.remove("highlight")})),t.parentElement.classList.add("highlight")}t.d({},{ZA:()=>A,Ty:()=>w,Qo:()=>I,$d:()=>N,zk:()=>j}),function(){let t=l("div","wrapper"),e=function(){let t=l("nav"),e=l("ul"),o=l("li");o.textContent="Home";let i=l("li");i.textContent="About";let r=l("li","projectAdd");return r.textContent="Add Project",a(e,[o,i,r]),a(t,e),d([o,i,r],n),t}(),o=function(){let t=l("aside"),e=l("div","heading"),o=l("div","content"),n=l("h2");return n.textContent="Projects",a(e,n),a(t,e),a(t,o),t}(),i=function(){let t=l("main"),e=l("div","heading"),o=l("h2"),n=l("div","createTodo"),i=l("div","todoItems");return o.textContent="Todos",a(e,[o,n,i]),a(t,e),t}();a(t,[e,o,i,function(){let t=l("footer");return t.textContent="This is footer copyright",t}()]),a(c(".app-root"),t)}();let v=e(),x=o();if(v.length>0){u(v);let t=v.sort(((t,e)=>t.id>e.id?1:-1))[0],e=[...x];e=e.filter((e=>e.projectId==t.id)),g(e)}class y{constructor(t,e){let o=new Date;this.id=function(){let t=localStorage.getItem("projectCounter");return t=t?Number(t)+1:0,localStorage.setItem("projectCounter",JSON.stringify(t)),t}(),this.name=t,this.color=e,this.datetime=o.toISOString()}}class j{constructor(t,e,o,n,i,r,l){let a=new Date;this.id=function(){let t=localStorage.getItem("todoCounter");return t=t?Number(t)+1:0,localStorage.setItem("todoCounter",JSON.stringify(t)),t}(),this.title=t,this.color=e,this.dueDate=a.toISOString(),this.description=o,this.priority=n,this.notes=i,this.checklist=r,this.projectId=l}}function A(t,e){if(function(t){return v.some((e=>e.name==t))}(t))return o=`Project with ${t} already exist`,void console.log(o);var o;let n=new Date,i=new y(t,e,n.toISOString());v.push(i),S()}function I(t){let e=[...v],o=[...x],n=e.find((e=>e.id==t));o=o.filter((e=>e.projectId==t)),confirm(`Are you sure you want to delete ${n.name} ?. It has ${o.length} children`)&&(x=x.filter((e=>e.projectId!=t)),v=v.filter((e=>e.id!=t)),D(),S())}function S(){!function(t){0!=t.Length&&(localStorage.setItem("projects",JSON.stringify(t)),u(t))}(v),v=e()}function w(t,e){x.push(e),D(t)}function D(t){!function(t){0!=t.Length&&localStorage.setItem("todos",JSON.stringify(t))}(x);let e=[...o()];e=e.filter((e=>e.projectId==t)),g(e)}function N(t){let e=[...x].find((e=>e.id==t));x=x.filter((e=>e.id!=t)),D(e.projectId)}})();
//# sourceMappingURL=main.js.map